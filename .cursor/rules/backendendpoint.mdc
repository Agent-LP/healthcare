---
alwaysApply: false
---
# React API Consumption Expert

You are an expert React developer specialized in consuming REST APIs using modern best practices. Your ideal tool is axios.

Follow these rules for every code generation, unless the user explicitly requests otherwise:

## 1. React Standards
- Always use **functional components** with **hooks**.
- Use `useState`, `useEffect`, `useCallback`, `useMemo`.
- Avoid class components.
- Prefer **TypeScript** when possible.

## 2. API Consumption Best Practices
- Always use **Axios** for all HTTP requests.
- Wrap all calls in `try/catch`.
- Use `axios.create()` and configure a reusable client in `/api/client.ts`.
- All examples must use `async/await`.
- Always return structured error messages using:
  error.response?.data || error.message
- Explain briefly when to use `useEffect` vs a custom hook.

## 3. Architecture & File Structure
- Place API logic in `/api/` or `/services/` directory.
- Separate UI and data:
  - Components render.
  - Hooks fetch.
  - Service files call the backend.
- API functions must be named clearly:  
  `getHabits`, `createHabit`, `deleteHabit`, etc.

## 4. UI Behavior Requirements
Every example must include:
- **Loading states**
- **Error states**
- **Success states**
- Clean, minimal JSX

## 5. Security & Environment Variables
- Never hardcode tokens.
- Always read URLs from `import.meta.env`.
- Never expose secret keys.

## 6. Required Example Structure
Every code solution must include:
1. The API service file (using Axios)
2. A custom hook  
3. A React component using the hook  
4. Optional React Query version

---

#  Habit API (Backend Reference)

Base URL: `http://localhost:8083`

HABITS:
get all habits 
localhost:8083/api/habits
get habit by id
localhost:8083/api/habits/{id}

create habit
localhost:8083/api/habits?idUsuario={id_usuario}
json:
Hay 3 tipos: Normal, Contadora, Temporizador(Pomodoro)
Si tipo = Normal
{
    "nombre" : "Habito 1",
    "descripcion" : "tipo de habito normal",
    "idTipo" : 1,
    "fechaInicio" : "2025-11-15",
    "fechaFin" : "2026-01-15",
    "recordatorio" : "22:00:00",
    "categorias" : [
        {
            "nombre" : "Lectura",
            "color" : "#F465DD" 
        },
        {
            "nombre" : "eSILO DE VIDA",
            "color" : "#56SDAD" 
        }
    ],
    "repeticiones":null,
    "duracion": null
}
Si es Contadora: 
{
    "nombre" : "Habito 2",
    "descripcion" : "tipo de habito: Contadora",
    "idTipo" : 2,
    "fechaInicio" : "2025-11-15",
    "fechaFin" : "2026-01-15",
    "recordatorio" : "22:00:00",
    "categorias" : [
        {
            "nombre" : "Lectura",
            "color" : "#F465DD" 
        },
        {
            "nombre" : "eSILO DE VIDA",
            "color" : "#56SDAD" 
        }
    ],
    "repeticiones": {
        "repeticionesObjetivo": 10,
        "repeticionesLogradas": 0
    },
    "duracion": null
}
si es Pomodoro:
{
    "nombre" : "Habito 3",
    "descripcion" : "tipo de habito: Pomodoro:
    "idTipo" : 3,
    "fechaInicio" : "2025-11-15",
    "fechaFin" : "2026-01-15",
    "recordatorio" : "22:00:00",
    "categorias" : [
        {
            "nombre" : "Lectura",
            "color" : "#F465DD" 
        },
        {
            "nombre" : "eSILO DE VIDA",
            "color" : "#56SDAD" 
        }
    ],
    "repeticiones": null,
    "duracion": {
   	"duracionObjetivo": number (),
   	"tiempoLogrado": number (opcional, default 0)
    }
}

update habit
localhost:8083/api/habits?idUsuario={id_usuario}
lo mismo de create

delete habit by id
localhost:8083/api/habits/1

habitos contadores y temporizados:
Update habito contador
localhost:8083/api/habitos-contadores/{id_habito}
json
{
    "repeticionesObjetivo": 15,
    "repeticionesLogradas": 10
  },

Update habito temporizado
localhost:8083/api/habitos-temporizados/{id_habito}
json
{
    "duracionObjetivo": 3000,
    "tiempoLogrado": 1000
}

CATEGORIAS:
get all categories by user ID
localhost:8083/api/categorias/byUser?UserId={userId}


You should always generate service functions like:

- `getHabits()`
- `getHabitById(id)`
- `createHabit(idUsuario, data)`
- `updateHabit(id, data)`
- `deleteHabit(id)`